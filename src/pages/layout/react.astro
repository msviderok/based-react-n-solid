---
import ReactLayoutSidebar from "@/components/react/LayoutSidebar";
import ReactDemo from "@/components/react/ReactDemo";
import ReactSection from "@/components/react/Section";
import SolidDemo from "@/components/solid/SolidDemo";
import Layout from "@/Layout.astro";
import { COMPLIST } from "@/lib/store";
---

<Layout transition:persist>
  <ReactLayoutSidebar client:only="react">
    {
      COMPLIST.map(([component, variants, { minWidth } = {}]) => (
        <ReactSection.Root client:only="react" component={component}>
          {variants.map((variant) => (
            <ReactSection.Variant
              component={component}
              variant={variant}
              minWidth={minWidth}
              client:only="react"
            >
              <ReactSection.VariantSolid client:only="react">
                <SolidDemo component={component} variant={variant} client:only="solid-js" />
              </ReactSection.VariantSolid>
              <ReactSection.VariantReact client:only="react">
                <ReactDemo component={component} variant={variant} client:only="react" />
              </ReactSection.VariantReact>
            </ReactSection.Variant>
          ))}
        </ReactSection.Root>
      ))
    }
  </ReactLayoutSidebar>
</Layout>
